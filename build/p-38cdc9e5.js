/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const v="ion-focused",l="ion-focusable",L=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],m=n=>{let i=[],r=!0;const e=n?n.shadowRoot:document,E=n||document.body,s=t=>{i.forEach(o=>o.classList.remove(v)),t.forEach(o=>o.classList.add(v)),i=t},c=()=>{r=!1,s([])},a=t=>{r=L.includes(t.key),r||s([])},d=t=>{if(r&&t.composedPath!==void 0){const o=t.composedPath().filter(f=>f.classList?f.classList.contains(l):!1);s(o)}},u=()=>{e.activeElement===E&&s([])};return e.addEventListener("keydown",a),e.addEventListener("focusin",d),e.addEventListener("focusout",u),e.addEventListener("touchstart",c,{passive:!0}),e.addEventListener("mousedown",c),{destroy:()=>{e.removeEventListener("keydown",a),e.removeEventListener("focusin",d),e.removeEventListener("focusout",u),e.removeEventListener("touchstart",c),e.removeEventListener("mousedown",c)},setFocus:s}};export{m as startFocusVisible};
