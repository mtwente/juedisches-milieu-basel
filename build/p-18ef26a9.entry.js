import{r as m,e as p,h as l,H as b,d as g}from"./p-1bafedb0.js";import{c as f,h as c}from"./p-b2d007f6.js";import{g as u}from"./p-501d07b5.js";const C=":host{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;flex-wrap:wrap;align-items:center}:host(.in-toolbar-color),:host(.in-toolbar-color) .breadcrumbs-collapsed-indicator ion-icon{color:var(--ion-color-contrast)}:host(.in-toolbar-color) .breadcrumbs-collapsed-indicator{background:rgba(var(--ion-color-contrast-rgb), 0.11)}:host(.in-toolbar){-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;justify-content:center}",x=":host{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;flex-wrap:wrap;align-items:center}:host(.in-toolbar-color),:host(.in-toolbar-color) .breadcrumbs-collapsed-indicator ion-icon{color:var(--ion-color-contrast)}:host(.in-toolbar-color) .breadcrumbs-collapsed-indicator{background:rgba(var(--ion-color-contrast-rgb), 0.11)}:host(.in-toolbar){-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}",d=class{constructor(r){m(this,r),this.ionCollapsedClick=p(this,"ionCollapsedClick",7),this.breadcrumbsInit=()=>{this.setBreadcrumbSeparator(),this.setMaxItems()},this.resetActiveBreadcrumb=()=>{const o=this.getBreadcrumbs().find(s=>s.active);o&&this.activeChanged&&(o.active=!1)},this.setMaxItems=()=>{const{itemsAfterCollapse:a,itemsBeforeCollapse:o,maxItems:s}=this,e=this.getBreadcrumbs();for(const t of e)t.showCollapsedIndicator=!1,t.collapsed=!1;s!==void 0&&e.length>s&&o+a<=s&&e.forEach((t,i)=>{i===o&&(t.showCollapsedIndicator=!0),i>=o&&i<e.length-a&&(t.collapsed=!0)})},this.setBreadcrumbSeparator=()=>{const{itemsAfterCollapse:a,itemsBeforeCollapse:o,maxItems:s}=this,e=this.getBreadcrumbs(),n=e.find(t=>t.active);for(const t of e){const i=s!==void 0&&a===0?t===e[o]:t===e[e.length-1];t.last=i;const h=t.separator!==void 0?t.separator:i?void 0:!0;t.separator=h,!n&&i&&(t.active=!0,this.activeChanged=!0)}},this.getBreadcrumbs=()=>Array.from(this.el.querySelectorAll("ion-breadcrumb")),this.slotChanged=()=>{this.resetActiveBreadcrumb(),this.breadcrumbsInit()},this.collapsed=void 0,this.activeChanged=void 0,this.color=void 0,this.maxItems=void 0,this.itemsBeforeCollapse=1,this.itemsAfterCollapse=1}onCollapsedClick(r){const o=this.getBreadcrumbs().filter(s=>s.collapsed);this.ionCollapsedClick.emit(Object.assign(Object.assign({},r.detail),{collapsedBreadcrumbs:o}))}maxItemsChanged(){this.resetActiveBreadcrumb(),this.breadcrumbsInit()}componentWillLoad(){this.breadcrumbsInit()}render(){const{color:r,collapsed:a}=this,o=u(this);return l(b,{class:f(r,{[o]:!0,"in-toolbar":c("ion-toolbar",this.el),"in-toolbar-color":c("ion-toolbar[color]",this.el),"breadcrumbs-collapsed":a})},l("slot",{onSlotchange:this.slotChanged}))}get el(){return g(this)}static get watchers(){return{maxItems:["maxItemsChanged"],itemsBeforeCollapse:["maxItemsChanged"],itemsAfterCollapse:["maxItemsChanged"]}}};d.style={ios:C,md:x};export{d as ion_breadcrumbs};
