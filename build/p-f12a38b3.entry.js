import{r as d,e as g,h as i,H as r}from"./p-1bafedb0.js";const u=":host{display:block}.hide{display:none !important}",h=class{constructor(e){d(this,e),this.selectionChanged=g(this,"selectionChanged",7),this.selection={},this.maxLength=6,this.checkedOnInit=!0,this.items=void 0,this.loading=void 0,this.showAll=!1,this.allToggler=void 0,this.allToggler=!this.checkedOnInit}componentDidLoad(){this.emitSelection()}onItemChange(e,l){const s=this.selection[e]!==l;this.selection[e]=l,s&&this.emitSelection()}emitSelection(){const e=Object.keys(this.selection).filter(l=>this.selection[l]===!0);this.selectionChanged.emit({selectedClassUris:e})}isChecked(e){return this.selection[e]!==void 0?this.selection[e]:(this.selection[e]=this.checkedOnInit,this.selection[e])}toggleAll(){var e;(e=this.items)===null||e===void 0||e.forEach(l=>{this.selection[l.classUri]=this.allToggler}),this.allToggler=!this.allToggler,this.emitSelection()}render(){var e,l,s,n,o;return i(r,null,i("ion-list",{lines:"full"},i("ion-list-header",null,i("ion-label",null,"Classes (",(l=(e=this.items)===null||e===void 0?void 0:e.length)!==null&&l!==void 0?l:0,")"),((s=this.items)===null||s===void 0?void 0:s.length)>this.maxLength&&(this.showAll===!1?i("ion-button",{onClick:()=>this.showAll=!0},"Show all"):i("ion-button",{onClick:()=>this.showAll=!1},"Show less"))),i("ion-item",null,i("ion-note",null,"All Classes"),i("ion-checkbox",{slot:"end",checked:!this.allToggler,onIonChange:t=>this.toggleAll()})),(n=this.items)===null||n===void 0?void 0:n.map((t,a)=>i("ion-item",{class:!this.showAll&&a>=this.maxLength?"hide":""},i("ion-label",null,t.classLabel),i("ion-badge",{slot:"end"},t.instanceCount),i("ion-checkbox",{slot:"end",checked:this.isChecked(t.classUri),onIonChange:c=>this.onItemChange(t.classUri,c.detail.checked)}))),!(!((o=this.items)===null||o===void 0)&&o.length)&&!this.loading&&i("ion-item",null,i("ion-label",null,"No class found")),this.loading&&["","","","",""].map(t=>i("ion-item",null,i("ion-label",null,i("ion-skeleton-text",{animated:!0}))))))}};h.style=u;export{h as geov_class_select};
