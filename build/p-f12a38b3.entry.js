import{r as i,e as s,h as t,H as n}from"./p-1bafedb0.js";const e=":host{display:block}.hide{display:none !important}";const l=class{constructor(t){i(this,t);this.selectionChanged=s(this,"selectionChanged",7);this.selection={};this.maxLength=6;this.checkedOnInit=true;this.items=undefined;this.loading=undefined;this.showAll=false;this.allToggler=undefined;this.allToggler=!this.checkedOnInit}componentDidLoad(){this.emitSelection()}onItemChange(i,s){const t=this.selection[i]!==s;this.selection[i]=s;if(t)this.emitSelection()}emitSelection(){const i=Object.keys(this.selection).filter((i=>this.selection[i]===true));this.selectionChanged.emit({selectedClassUris:i})}isChecked(i){if(this.selection[i]!==undefined)return this.selection[i];this.selection[i]=this.checkedOnInit;return this.selection[i]}toggleAll(){var i;(i=this.items)===null||i===void 0?void 0:i.forEach((i=>{this.selection[i.classUri]=this.allToggler}));this.allToggler=!this.allToggler;this.emitSelection()}render(){var i,s,e,l,o;return t(n,null,t("ion-list",{lines:"full"},t("ion-list-header",null,t("ion-label",null,"Classes (",(s=(i=this.items)===null||i===void 0?void 0:i.length)!==null&&s!==void 0?s:0,")"),((e=this.items)===null||e===void 0?void 0:e.length)>this.maxLength&&(this.showAll===false?t("ion-button",{onClick:()=>this.showAll=true},"Show all"):t("ion-button",{onClick:()=>this.showAll=false},"Show less"))),t("ion-item",null,t("ion-note",null,"All Classes"),t("ion-checkbox",{slot:"end",checked:!this.allToggler,onIonChange:i=>this.toggleAll()})),(l=this.items)===null||l===void 0?void 0:l.map(((i,s)=>t("ion-item",{class:!this.showAll&&s>=this.maxLength?"hide":""},t("ion-label",null,i.classLabel),t("ion-badge",{slot:"end"},i.instanceCount),t("ion-checkbox",{slot:"end",checked:this.isChecked(i.classUri),onIonChange:s=>this.onItemChange(i.classUri,s.detail.checked)})))),!((o=this.items)===null||o===void 0?void 0:o.length)&&!this.loading&&t("ion-item",null,t("ion-label",null,"No class found")),this.loading&&["","","","",""].map((i=>t("ion-item",null,t("ion-label",null,t("ion-skeleton-text",{animated:true})))))))}};l.style=e;export{l as geov_class_select};
//# sourceMappingURL=p-f12a38b3.entry.js.map