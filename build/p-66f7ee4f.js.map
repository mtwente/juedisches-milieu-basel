{"version":3,"names":["importMapLibre","async","Promise","resolve","reject","isNode","window","maplibregl","script","document","createElement","onload","onerror","src","link","rel","href","head","appendChild","body"],"sources":["node_modules/@geovistory/design-system-web/dist/collection/lib/importMapLibre.js"],"sourcesContent":["import { isNode } from \"./isNode\";\n/**\n * Load and return plotly library from CDN in browsers.\n * In node server environment returns null.\n * @returns Plotly (in browser) or null (in server)\n */\nexport const importMapLibre = async () => new Promise((resolve, reject) => {\n  // if we are on a node server resolve with null\n  if (isNode())\n    return resolve(null);\n  // if MapLibre is already defined resolve it\n  if ('maplibregl' in window) {\n    return resolve(window.maplibregl); //TYPE IS NOT RIGHT! MIGHT BE A PROBLEM WITH THE IMPORT. PLEASE FIX!\n  }\n  // create new script element\n  const script = document.createElement('script');\n  // register on load callback and resolve MapLibre\n  script.onload = () => resolve(window.maplibregl);\n  // register on error callback and reject\n  script.onerror = reject;\n  // set url\n  script.src = 'https://cdn.jsdelivr.net/npm/maplibre-gl@3.4.1/dist/maplibre-gl.js';\n  const link = document.createElement('link');\n  link.rel = 'stylesheet';\n  link.href = 'https://cdn.jsdelivr.net/npm/maplibre-gl@3.4.1/dist/maplibre-gl.css';\n  // append script to load Plotly from CDN to document\n  document.head.appendChild(link);\n  document.body.appendChild(script);\n});\n//# sourceMappingURL=importMapLibre.js.map\n"],"mappings":"oCAMY,MAACA,EAAiBC,SAAY,IAAIC,SAAQ,CAACC,EAASC,KAE9D,GAAIC,IACF,OAAOF,EAAQ,MAEjB,GAAI,eAAgBG,OAAQ,CAC1B,OAAOH,EAAQG,OAAOC,WAC1B,CAEE,MAAMC,EAASC,SAASC,cAAc,UAEtCF,EAAOG,OAAS,IAAMR,EAAQG,OAAOC,YAErCC,EAAOI,QAAUR,EAEjBI,EAAOK,IAAM,qEACb,MAAMC,EAAOL,SAASC,cAAc,QACpCI,EAAKC,IAAM,aACXD,EAAKE,KAAO,sEAEZP,SAASQ,KAAKC,YAAYJ,GAC1BL,SAASU,KAAKD,YAAYV,EAAO,W"}