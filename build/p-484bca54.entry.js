import{r as t,h as i,H as s,k as n,e,d as r}from"./p-1bafedb0.js";import{k as o}from"./p-a533da20.js";import{g as a}from"./p-501d07b5.js";const d=".app-content{display:block;max-width:1000px;margin:0 auto}";const h=class{constructor(i){t(this,i)}render(){return i(s,null,i("div",{class:"app-content"},i("slot",null)))}};h.style=d;const c=":host{display:block}figure{display:block;margin:1rem 0 3rem 0}figcaption{margin-top:0.5rem;font-size:0.8rem}";const l=class{constructor(i){t(this,i);this.src=undefined}render(){return i(s,null,i("figure",null,i("ion-img",{src:n(this.src)}),i("figcaption",null,i("slot",null))))}};l.style=c;const u=":host{display:block;object-fit:contain}img{display:block;width:100%;height:100%;object-fit:inherit;object-position:inherit}";const g=class{constructor(i){t(this,i);this.ionImgWillLoad=e(this,"ionImgWillLoad",7);this.ionImgDidLoad=e(this,"ionImgDidLoad",7);this.ionError=e(this,"ionError",7);this.inheritedAttributes={};this.onLoad=()=>{this.ionImgDidLoad.emit()};this.onError=()=>{this.ionError.emit()};this.loadSrc=undefined;this.loadError=undefined;this.alt=undefined;this.src=undefined}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=o(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){if(this.src===undefined){return}if(typeof window!=="undefined"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype){this.removeIO();this.io=new IntersectionObserver((t=>{if(t[t.length-1].isIntersecting){this.load();this.removeIO()}}));this.io.observe(this.el)}else{setTimeout((()=>this.load()),200)}}load(){this.loadError=this.onError;this.loadSrc=this.src;this.ionImgWillLoad.emit()}removeIO(){if(this.io){this.io.disconnect();this.io=undefined}}render(){const{loadSrc:t,alt:n,onLoad:e,loadError:r,inheritedAttributes:o}=this;const{draggable:d}=o;return i(s,{class:a(this)},i("img",{decoding:"async",src:t,alt:n,onLoad:e,onError:r,part:"image",draggable:p(d)}))}get el(){return r(this)}static get watchers(){return{src:["srcChanged"]}}};const p=t=>{switch(t){case"true":return true;case"false":return false;default:return undefined}};g.style=u;export{h as app_content,l as app_img,g as ion_img};
//# sourceMappingURL=p-484bca54.entry.js.map