{"version":3,"names":["appProgressMeterCss","AppProgressMeter","this","r","strokeOuter","strokeInner","closing","labelGap","rotation","cf","Math","PI","semi_cf","semi_cf_1by3","semi_cf_2by3","width","height","componentDidLoad","outlineCurves","low","avg","high","mask","outlineEnds","forEach","circle","setAttribute","toString","e","meter","render","meter_value","value","maxVal","h","Fragment","ref","style","transform","class","cx","cy","x","y"],"sources":["src/components/app-progress-meter/app-progress-meter.css?tag=app-progress-meter","src/components/app-progress-meter/app-progress-meter.tsx"],"sourcesContent":[":host {\n  display: block;\n  --progrss-bar-color: var(--ion-color-step-200, #fff);\n}\n\n.circle {\n  fill: none;\n}\n\n.circle.segment-1,\n.circle.segment-2,\n.circle.segment-3 {\n  stroke: #7b3f27;\n}\n\n.outline {\n  stroke: var(--ion-color-step-500);\n}\n\n.label-1 {\n  fill: var(--ion-color-step-500);\n  font-size: 1.5rem;\n}\n\n.label-2,\n.label-3 {\n  fill: var(--ion-color-step-500);\n  font-size: 0.8rem;\n}\n","import { Component, Fragment, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-progress-meter',\n  styleUrl: 'app-progress-meter.css',\n  shadow: false,\n})\nexport class AppProgressMeter {\n  @Prop() value = 9;\n  @Prop() maxVal = 12;\n\n  wrapper: HTMLDivElement;\n  meter: SVGElement;\n  outlineCurves: SVGElement;\n  low: SVGElement;\n  avg: SVGElement;\n  high: SVGElement;\n  mask: SVGElement;\n  outlineEnds: SVGElement;\n  slider: HTMLInputElement;\n  lbl: HTMLLabelElement;\n\n  // radius of circle (scales to parent)\n  r = 60;\n  // stroke width for outlines\n  strokeOuter = 10;\n  // stroke width for indicator\n  strokeInner = 6;\n  // closing, 1 = semi-circle, 2= full circle\n  closing = 1.6;\n  // gap between label lines\n  labelGap = 6;\n  rotation = 0.5 - (this.closing - 1) / 4;\n  cf = 2 * Math.PI * this.r;\n  semi_cf = (this.closing * this.cf) / 2;\n  semi_cf_1by3 = this.semi_cf / 3;\n  semi_cf_2by3 = this.semi_cf_1by3 * 2;\n  width = 2 * this.r + this.strokeOuter;\n  height = this.width; // / this.closing;\n\n  componentDidLoad() {\n    // set radius\n    [this.outlineCurves, this.low, this.avg, this.high, this.mask, this.outlineEnds].forEach(circle => {\n      circle.setAttribute('r', this.r.toString());\n    });\n    // set inner stroke with\n    [this.low, this.avg, this.high].forEach(e => e.setAttribute('stroke-width', this.strokeInner.toString()));\n    // set outer stroke with\n    [this.outlineCurves, this.mask, this.outlineEnds].forEach(e => e.setAttribute('stroke-width', this.strokeOuter.toString()));\n\n    // set viewbox\n\n    this.meter.setAttribute('viewBox', `0 0 ${this.width} ${this.height}`);\n\n    // set stroke dasharray for all circles except for mask\n    this.outlineCurves.setAttribute('stroke-dasharray', this.semi_cf + ',' + this.cf);\n    this.low.setAttribute('stroke-dasharray', this.semi_cf + ',' + this.cf);\n    this.avg.setAttribute('stroke-dasharray', this.semi_cf_2by3 + ',' + this.cf);\n    this.high.setAttribute('stroke-dasharray', this.semi_cf_1by3 + ',' + this.cf);\n    this.outlineEnds.setAttribute('stroke-dasharray', 2 + ',' + (this.semi_cf - 2));\n  }\n\n  render() {\n    var meter_value = this.semi_cf - (this.value / this.maxVal) * this.semi_cf;\n\n    return (\n      <Fragment>\n        <svg ref={e => (this.meter = e)}>\n          <g style={{ 'transform': 'scaleX(-1)', 'transform-origin': 'center' }}>\n            <g\n              style={{\n                'transform': `rotate(${this.rotation}turn)`,\n                'transform-origin': 'center',\n              }}\n            >\n              <circle ref={e => (this.outlineCurves = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.low = e)} class=\"circle segment-1\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.avg = e)} class=\"circle segment-2\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.high = e)} class=\"circle segment-3\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.mask = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\" stroke-dasharray={meter_value + ',' + this.cf}></circle>\n              <circle ref={e => (this.outlineEnds = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\"></circle>\n            </g>\n          </g>\n          <text class=\"label-3\" x={this.width / 2} y={this.height / 2 + this.labelGap * 3} dominant-baseline=\"middle\" text-anchor=\"middle\">\n            gel√∂st\n          </text>{' '}\n          <text class=\"label-1\" x={this.width / 2} y={this.height / 2 - this.labelGap} dominant-baseline=\"middle\" text-anchor=\"middle\">\n            {this.value} / {this.maxVal}\n          </text>{' '}\n        </svg>\n      </Fragment>\n    );\n  }\n}\n"],"mappings":"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"}