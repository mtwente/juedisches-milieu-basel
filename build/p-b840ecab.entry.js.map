{"version":3,"names":["geovTocCss","GeovToc","constructor","hostRef","this","indentPx","toc","undefined","componentDidLoad","console","log","createToc","render","h","Host","tocItems","el","getHref","e","id","getAttribute","getText","textContent","scanElement","element","_a","childNodes","forEach","headingLevel","nodeName","level","text","href","item","createTocItem","push","class","inner","style","paddingLeft","detail"],"sources":["node_modules/@geovistory/design-system-web/dist/collection/components/geov-toc/geov-toc.css?tag=geov-toc&encapsulation=shadow","node_modules/@geovistory/design-system-web/dist/collection/components/geov-toc/geov-toc.js"],"sourcesContent":[":host {\n  display: block;\n}\n\n.toc {\n  display: none;\n}\n\n/* lg and up */\n@media screen and (min-width: 1200px) {\n  .toc {\n    display: inline;\n    position: fixed;\n    max-width: 300px;\n    right: 2rem;\n  }\n}\n","import { h, Host } from \"@stencil/core\";\nexport class GeovToc {\n  constructor() {\n    this.indentPx = 16;\n    this.toc = undefined;\n  }\n  componentDidLoad() {\n    console.log('r');\n    this.toc = this.createToc();\n  }\n  render() {\n    return (h(Host, null, this.toc, h(\"slot\", null)));\n  }\n  createToc() {\n    const tocItems = [];\n    if (this.el) {\n      const getHref = (e) => {\n        const id = e === null || e === void 0 ? void 0 : e.getAttribute('id');\n        return id ? `#${id}` : undefined;\n      };\n      const getText = (e) => {\n        return e.textContent;\n      };\n      const scanElement = (element) => {\n        var _a;\n        (_a = element.childNodes) === null || _a === void 0 ? void 0 : _a.forEach(e => {\n          let headingLevel;\n          switch (e.nodeName) {\n            case 'H1':\n              headingLevel = 1;\n              break;\n            case 'H2':\n              headingLevel = 2;\n              break;\n            case 'H3':\n              headingLevel = 3;\n              break;\n            case 'H4':\n              headingLevel = 4;\n              break;\n            case 'H5':\n              headingLevel = 5;\n              break;\n            case 'H6':\n              headingLevel = 6;\n              break;\n          }\n          if (headingLevel !== undefined) {\n            const level = headingLevel - 1;\n            const text = getText(e);\n            const href = getHref(e);\n            const item = this.createTocItem(level, text, href);\n            return tocItems.push(item);\n          }\n          if (e.nodeName === '#text')\n            return;\n          return scanElement(e);\n        });\n      };\n      scanElement(this.el);\n    }\n    return h(\"ion-list\", { class: \"toc\" }, tocItems);\n  }\n  createTocItem(level, text, href) {\n    const inner = h(\"div\", { style: { paddingLeft: `${level * 16}px` } }, text);\n    return href ? (h(\"ion-item\", { href: href, detail: false }, inner, ' ')) : (h(\"ion-item\", null, inner));\n  }\n  static get is() { return \"geov-toc\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"geov-toc.css\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"geov-toc.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"indentPx\": {\n        \"type\": \"number\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"\"\n        },\n        \"attribute\": \"indent-px\",\n        \"reflect\": false,\n        \"defaultValue\": \"16\"\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"toc\": {}\n    };\n  }\n  static get elementRef() { return \"el\"; }\n}\n//# sourceMappingURL=geov-toc.js.map\n"],"mappings":"yDAAA,MAAMA,EAAa,8I,MCCNC,EAAO,MAClB,WAAAC,CAAAC,G,UACEC,KAAKC,SAAW,GAChBD,KAAKE,IAAMC,S,CAEb,gBAAAC,GACEC,QAAQC,IAAI,KACZN,KAAKE,IAAMF,KAAKO,W,CAElB,MAAAC,GACE,OAAQC,EAAEC,EAAM,KAAMV,KAAKE,IAAKO,EAAE,OAAQ,M,CAE5C,SAAAF,GACE,MAAMI,EAAW,GACjB,GAAIX,KAAKY,GAAI,CACX,MAAMC,EAAWC,IACf,MAAMC,EAAKD,IAAM,MAAQA,SAAW,OAAS,EAAIA,EAAEE,aAAa,MAChE,OAAOD,EAAK,IAAIA,IAAOZ,SAAS,EAElC,MAAMc,EAAWH,GACRA,EAAEI,YAEX,MAAMC,EAAeC,IACnB,IAAIC,GACHA,EAAKD,EAAQE,cAAgB,MAAQD,SAAY,OAAS,EAAIA,EAAGE,SAAQT,IACxE,IAAIU,EACJ,OAAQV,EAAEW,UACR,IAAK,KACHD,EAAe,EACf,MACF,IAAK,KACHA,EAAe,EACf,MACF,IAAK,KACHA,EAAe,EACf,MACF,IAAK,KACHA,EAAe,EACf,MACF,IAAK,KACHA,EAAe,EACf,MACF,IAAK,KACHA,EAAe,EACf,MAEJ,GAAIA,IAAiBrB,UAAW,CAC9B,MAAMuB,EAAQF,EAAe,EAC7B,MAAMG,EAAOV,EAAQH,GACrB,MAAMc,EAAOf,EAAQC,GACrB,MAAMe,EAAO7B,KAAK8B,cAAcJ,EAAOC,EAAMC,GAC7C,OAAOjB,EAASoB,KAAKF,E,CAEvB,GAAIf,EAAEW,WAAa,QACjB,OACF,OAAON,EAAYL,EAAE,GACrB,EAEJK,EAAYnB,KAAKY,G,CAEnB,OAAOH,EAAE,WAAY,CAAEuB,MAAO,OAASrB,E,CAEzC,aAAAmB,CAAcJ,EAAOC,EAAMC,GACzB,MAAMK,EAAQxB,EAAE,MAAO,CAAEyB,MAAO,CAAEC,YAAa,GAAGT,EAAQ,SAAYC,GACtE,OAAOC,EAAQnB,EAAE,WAAY,CAAEmB,KAAMA,EAAMQ,OAAQ,OAASH,EAAO,KAASxB,EAAE,WAAY,KAAMwB,E"}