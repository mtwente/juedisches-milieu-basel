import{r as g,h as u,H as z,d as v,e as f}from"./p-1bafedb0.js";import{r as U,s as _}from"./p-fb8c35d2.js";import{a as $}from"./p-291a6c3c.js";import{g as k,c as d,a as p}from"./p-501d07b5.js";import{c as x,d as E,s as q,h as F}from"./p-a533da20.js";import{g as P}from"./p-8e599a9d.js";import{a as G,d as V}from"./p-b7a6a734.js";import{t as M}from"./p-2d560059.js";import"./p-7d5dbd9a.js";import"./p-13105ff6.js";import"./p-b2c1ccc4.js";const K="",N=class{constructor(t){g(this,t)}render(){return u("ion-app",null,u("ion-router",{useHash:!1,ref:t=>U.ionRouterElement=t},u("ion-route-redirect",{from:"/",to:"/intro"}),u("ion-route",{url:"/intro",component:"page-intro"}),u("ion-route",{url:"/puzzle",component:"page-puzzle"}),$.map(t=>u("ion-route",{url:t.url,component:t.component,beforeEnter:()=>_[t.key]==="locked"?{redirect:"/puzzle"}:!0})),u("ion-route",{url:"/about-us",component:"page-about-us"}),u("ion-route",{url:"/belohnung",component:"page-gratification"})),u("ion-router-outlet",null),u("a",{style:{display:"none"},href:"/intro"}),u("a",{style:{display:"none"},href:"/puzzle"}))}};N.style=K;const J="html.plt-mobile ion-app{user-select:none}html.plt-mobile ion-app [contenteditable]{user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",L=class{constructor(t){g(this,t)}componentDidLoad(){X(async()=>{const t=p(window,"hybrid");if(d.getBoolean("_testing")||import("./p-87fdb24a.js").then(n=>n.startTapClick(d)),d.getBoolean("statusTap",t)&&import("./p-8c9ee480.js").then(n=>n.startStatusTap()),d.getBoolean("inputShims",Q())){const n=p(window,"ios")?"ios":"android";import("./p-2badb9b6.js").then(o=>o.startInputShims(d,n))}const e=await import("./p-94c84e79.js");d.getBoolean("hardwareBackButton",t)?e.startHardwareBackButton():e.blockHardwareBackButton(),typeof window<"u"&&import("./p-5424a32a.js").then(n=>n.startKeyboardAssist(window)),import("./p-38cdc9e5.js").then(n=>this.focusVisible=n.startFocusVisible())})}async setFocus(t){this.focusVisible&&this.focusVisible.setFocus(t)}render(){const t=k(this);return u(z,{class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":d.getBoolean("_forceStatusbarPadding")}})}get el(){return v(this)}},Q=()=>!!(p(window,"ios")&&p(window,"mobile")||p(window,"android")&&p(window,"mobileweb")),X=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};L.style=J;const Y=class{constructor(t){g(this,t),this.ionRouteDataChanged=f(this,"ionRouteDataChanged",7),this.url="",this.component=void 0,this.componentProps=void 0,this.beforeLeave=void 0,this.beforeEnter=void 0}onUpdate(t){this.ionRouteDataChanged.emit(t)}onComponentProps(t,e){if(t===e)return;const n=t?Object.keys(t):[],o=e?Object.keys(e):[];if(n.length!==o.length){this.onUpdate(t);return}for(const s of n)if(t[s]!==e[s]){this.onUpdate(t);return}}connectedCallback(){this.ionRouteDataChanged.emit()}static get watchers(){return{url:["onUpdate"],component:["onUpdate"],componentProps:["onComponentProps"]}}},Z=class{constructor(t){g(this,t),this.ionRouteRedirectChanged=f(this,"ionRouteRedirectChanged",7),this.from=void 0,this.to=void 0}propDidChange(){this.ionRouteRedirectChanged.emit()}connectedCallback(){this.ionRouteRedirectChanged.emit()}static get watchers(){return{from:["propDidChange"],to:["propDidChange"]}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const m="root",O="forward",tt="back";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w=t=>"/"+t.filter(n=>n.length>0).join("/"),et=(t,e,n)=>{let o=w(t);return e&&(o="#"+o),n!==void 0&&(o+="?"+n),o},nt=(t,e,n,o,s,i,r)=>{const a=et([...h(e).segments,...o],n,r);s===O?t.pushState(i,"",a):t.replaceState(i,"",a)},st=t=>{const e=[];for(const n of t)for(const o of n.segments)if(o[0]===":"){const s=n.params&&n.params[o.slice(1)];if(!s)return null;e.push(s)}else o!==""&&e.push(o);return e},ot=(t,e)=>{if(t.length>e.length)return null;if(t.length<=1&&t[0]==="")return e;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return null;return e.length===t.length?[""]:e.slice(t.length)},it=(t,e,n)=>{const o=h(e).segments,s=n?t.hash.slice(1):t.pathname,i=h(s).segments;return ot(o,i)},h=t=>{let e=[""],n;if(t!=null){const o=t.indexOf("?");o>-1&&(n=t.substring(o+1),t=t.substring(0,o)),e=t.split("/").map(s=>s.trim()).filter(s=>s.length>0),e.length===0&&(e=[""])}return{segments:e,queryString:n}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rt=t=>{console.group(`[ion-core] ROUTES[${t.length}]`);for(const e of t){const n=[];e.forEach(s=>n.push(...s.segments));const o=e.map(s=>s.id);console.debug(`%c ${w(n)}`,"font-weight: bold; padding-left: 20px","=>	",`(${o.join(", ")})`)}console.groupEnd()},at=t=>{console.group(`[ion-core] REDIRECTS[${t.length}]`);for(const e of t)e.to&&console.debug("FROM: ",`$c ${w(e.from)}`,"font-weight: bold"," TO: ",`$c ${w(e.to.segments)}`,"font-weight: bold");console.groupEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const D=async(t,e,n,o,s=!1,i)=>{try{const r=C(t);if(o>=e.length||!r)return s;await new Promise(c=>x(r,c));const a=e[o],l=await r.setRouteId(a.id,a.params,n,i);return l.changed&&(n=m,s=!0),s=await D(l.element,e,n,o+1,s,i),l.markVisible&&await l.markVisible(),s}catch(r){return console.error(r),!1}},lt=async t=>{const e=[];let n,o=t;for(;n=C(o);){const s=await n.getRouteId();if(s)o=s.element,s.element=void 0,e.push(s);else break}return{ids:e,outlet:n}},ct=()=>C(document.body)?Promise.resolve():new Promise(t=>{window.addEventListener("ionNavWillLoad",()=>t(),{once:!0})}),H=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet",C=t=>{if(!t)return;if(t.matches(H))return t;const e=t.querySelector(H);return e??void 0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ut=(t,e)=>{const{from:n,to:o}=e;if(o===void 0||n.length>t.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(i==="*")return!0;if(i!==t[s])return!1}return n.length===t.length},I=(t,e)=>e.find(n=>ut(t,n)),ht=(t,e)=>{const n=Math.min(t.length,e.length);let o=0;for(let s=0;s<n;s++){const i=t[s],r=e[s];if(i.id.toLowerCase()!==r.id)break;if(i.params){const a=Object.keys(i.params);if(a.length===r.segments.length){const l=a.map(c=>`:${c}`);for(let c=0;c<l.length&&l[c].toLowerCase()===r.segments[c];c++)o++}}o++}return o},dt=(t,e)=>{const n=new gt(t);let o=!1,s;for(let r=0;r<e.length;r++){const a=e[r].segments;if(a[0]==="")o=!0;else{for(const l of a){const c=n.next();if(l[0]===":"){if(c==="")return null;s=s||[];const T=s[r]||(s[r]={});T[l.slice(1)]=c}else if(c!==l)return null}o=!1}}return(o?o===(n.next()===""):!0)?s?e.map((r,a)=>({id:r.id,segments:r.segments,params:B(r.params,s[a]),beforeEnter:r.beforeEnter,beforeLeave:r.beforeLeave})):e:null},B=(t,e)=>t||e?Object.assign(Object.assign({},t),e):void 0,ft=(t,e)=>{let n=null,o=0;for(const s of e){const i=ht(t,s);i>o&&(n=s,o=i)}return n?n.map((s,i)=>{var r;return{id:s.id,segments:s.segments,params:B(s.params,(r=t[i])===null||r===void 0?void 0:r.params)}}):null},R=(t,e)=>{let n=null,o=0;for(const s of e){const i=dt(t,s);if(i!==null){const r=mt(i);r>o&&(o=r,n=i)}}return n},mt=t=>{let e=1,n=1;for(const o of t)for(const s of o.segments)s[0]===":"?e+=Math.pow(1,n):s!==""&&(e+=Math.pow(2,n)),n++;return e};class gt{constructor(e){this.segments=e.slice()}next(){return this.segments.length>0?this.segments.shift():""}}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const b=(t,e)=>e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):null,S=t=>Array.from(t.children).filter(e=>e.tagName==="ION-ROUTE-REDIRECT").map(e=>{const n=b(e,"to");return{from:h(b(e,"from")).segments,to:n==null?void 0:h(n)}}),y=t=>pt(W(t)),W=t=>Array.from(t.children).filter(e=>e.tagName==="ION-ROUTE"&&e.component).map(e=>{const n=b(e,"component");return{segments:h(b(e,"url")).segments,id:n.toLowerCase(),params:e.componentProps,beforeLeave:e.beforeLeave,beforeEnter:e.beforeEnter,children:W(e)}}),pt=t=>{const e=[];for(const n of t)A([],e,n);return e},A=(t,e,n)=>{if(t=[...t,{id:n.id,segments:n.segments,params:n.params,beforeLeave:n.beforeLeave,beforeEnter:n.beforeEnter}],n.children.length===0){e.push(t);return}for(const o of n.children)A(t,e,o)},wt=class{constructor(t){g(this,t),this.ionRouteWillChange=f(this,"ionRouteWillChange",7),this.ionRouteDidChange=f(this,"ionRouteDidChange",7),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0}async componentWillLoad(){await ct();const t=await this.runGuards(this.getSegments());if(t!==!0){if(typeof t=="object"){const{redirect:e}=t,n=h(e);this.setSegments(n.segments,m,n.queryString),await this.writeNavStateRoot(n.segments,m)}}else await this.onRoutesChanged()}componentDidLoad(){window.addEventListener("ionRouteRedirectChanged",E(this.onRedirectChanged.bind(this),10)),window.addEventListener("ionRouteDataChanged",E(this.onRoutesChanged.bind(this),100))}async onPopState(){const t=this.historyDirection();let e=this.getSegments();const n=await this.runGuards(e);if(n!==!0)if(typeof n=="object")e=h(n.redirect).segments;else return!1;return this.writeNavStateRoot(e,t)}onBackButton(t){t.detail.register(0,e=>{this.back(),e()})}async canTransition(){const t=await this.runGuards();return t!==!0?typeof t=="object"?t.redirect:!1:!0}async push(t,e="forward",n){var o;if(t.startsWith(".")){const r=(o=this.previousPath)!==null&&o!==void 0?o:"/",a=new URL(t,`https://host/${r}`);t=a.pathname+a.search}let s=h(t);const i=await this.runGuards(s.segments);if(i!==!0)if(typeof i=="object")s=h(i.redirect);else return!1;return this.setSegments(s.segments,e,s.queryString),this.writeNavStateRoot(s.segments,e,n)}back(){return window.history.back(),Promise.resolve(this.waitPromise)}async printDebug(){rt(y(this.el)),at(S(this.el))}async navChanged(t){if(this.busy)return console.warn("[ion-router] router is busy, navChanged was cancelled"),!1;const{ids:e,outlet:n}=await lt(window.document.body),o=y(this.el),s=ft(e,o);if(!s)return console.warn("[ion-router] no matching URL for ",e.map(r=>r.id)),!1;const i=st(s);return i?(this.setSegments(i,t),await this.safeWriteNavState(n,s,m,i,null,e.length),!0):(console.warn("[ion-router] router could not match path because some required param is missing"),!1)}onRedirectChanged(){const t=this.getSegments();t&&I(t,S(this.el))&&this.writeNavStateRoot(t,m)}onRoutesChanged(){return this.writeNavStateRoot(this.getSegments(),m)}historyDirection(){var t;const e=window;e.history.state===null&&(this.state++,e.history.replaceState(this.state,e.document.title,(t=e.document.location)===null||t===void 0?void 0:t.href));const n=e.history.state,o=this.lastState;return this.lastState=n,n>o||n>=o&&o>0?O:n<o?tt:m}async writeNavStateRoot(t,e,n){if(!t)return console.error("[ion-router] URL is not part of the routing set"),!1;const o=S(this.el),s=I(t,o);let i=null;if(s){const{segments:l,queryString:c}=s.to;this.setSegments(l,e,c),i=s.from,t=l}const r=y(this.el),a=R(t,r);return a?this.safeWriteNavState(document.body,a,e,t,i,0,n):(console.error("[ion-router] the path does not match any route"),!1)}async safeWriteNavState(t,e,n,o,s,i=0,r){const a=await this.lock();let l=!1;try{l=await this.writeNavState(t,e,n,o,s,i,r)}catch(c){console.error(c)}return a(),l}async lock(){const t=this.waitPromise;let e;return this.waitPromise=new Promise(n=>e=n),t!==void 0&&await t,e}async runGuards(t=this.getSegments(),e){if(e===void 0&&(e=h(this.previousPath).segments),!t||!e)return!0;const n=y(this.el),o=R(e,n),s=o&&o[o.length-1].beforeLeave,i=s?await s():!0;if(i===!1||typeof i=="object")return i;const r=R(t,n),a=r&&r[r.length-1].beforeEnter;return a?a():!0}async writeNavState(t,e,n,o,s,i=0,r){if(this.busy)return console.warn("[ion-router] router is busy, transition was cancelled"),!1;this.busy=!0;const a=this.routeChangeEvent(o,s);a&&this.ionRouteWillChange.emit(a);const l=await D(t,e,n,i,!1,r);return this.busy=!1,a&&this.ionRouteDidChange.emit(a),l}setSegments(t,e,n){this.state++,nt(window.history,this.root,this.useHash,t,e,this.state,n)}getSegments(){return it(window.location,this.root,this.useHash)}routeChangeEvent(t,e){const n=this.previousPath,o=w(t);if(this.previousPath=o,o===n)return null;const s=e?w(e):null;return{from:n,redirectedFrom:s,to:o}}get el(){return v(this)}},bt=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",j=class{constructor(t){g(this,t),this.ionNavWillLoad=f(this,"ionNavWillLoad",7),this.ionNavWillChange=f(this,"ionNavWillChange",3),this.ionNavDidChange=f(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=k(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const t=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await import("./p-73a5875d.js")).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>t(),e=>{var n;return(n=this.ani)===null||n===void 0?void 0:n.progressStep(e)},(e,n,o)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)},{oneTimeCallback:!0});let s=e?-.001:.001;e?s+=P([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=P([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.ani.progressEnd(e?1:0,s,o)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(t,e,n){const o=await this.lock();let s=!1;try{s=await this.transition(t,e,n)}catch(i){console.error(i)}return o(),s}async setRouteId(t,e,n,o){return{changed:await this.setRoot(t,e,{duration:n==="root"?0:void 0,direction:n==="back"?"back":"forward",animationBuilder:o}),element:this.activeEl}}async getRouteId(){const t=this.activeEl;return t?{id:t.tagName,element:t,params:this.activeParams}:void 0}async setRoot(t,e,n){if(this.activeComponent===t&&q(e,this.activeParams))return!1;const o=this.activeEl,s=await G(this.delegate,this.el,t,["ion-page","ion-page-invisible"],e);return this.activeComponent=t,this.activeEl=s,this.activeParams=e,await this.commit(s,o,n),await V(this.delegate,o),!0}async transition(t,e,n={}){if(e===t)return!1;this.ionNavWillChange.emit();const{el:o,mode:s}=this,i=this.animated&&d.getBoolean("animated",!0),r=n.animationBuilder||this.animation||d.get("navAnimation");return await M(Object.assign(Object.assign({mode:s,animated:i,enteringEl:t,leavingEl:e,baseEl:o,deepWait:F(o),progressCallback:n.progressAnimation?a=>{a!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,a.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),a.progressEnd(0,0,0)):this.ani=a}:void 0},n),{animationBuilder:r})),this.ionNavDidChange.emit(),!0}async lock(){const t=this.waitPromise;let e;return this.waitPromise=new Promise(n=>e=n),t!==void 0&&await t,e}render(){return u("slot",null)}get el(){return v(this)}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}};j.style=bt;export{N as app_root,L as ion_app,Y as ion_route,Z as ion_route_redirect,wt as ion_router,j as ion_router_outlet};
