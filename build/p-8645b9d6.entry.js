import{r as i,e as l,h as n,H as t}from"./p-1bafedb0.js";import{r as s}from"./p-cc441cb7.js";const o=":host{display:block}.hide{display:none !important}";const e=class{constructor(n){i(this,n);this.selectionChanged=l(this,"selectionChanged",7);this.maxLength=6;this.items=undefined;this.preferredItemsList=undefined;this.restItemsList=undefined;this.loading=undefined;this.initValue=undefined;this.uriPrefix="https://ontome.net/ontology/";this.preferredItems=undefined;this.showAll=false}onItemsChange(){this.preferredItemsList=[];this.restItemsList=[];this.items.forEach((i=>{var l,n,t;if((l=this.preferredItems)===null||l===void 0?void 0:l.includes(i.classUri.substring(this.uriPrefix.length))){(n=this.preferredItemsList)===null||n===void 0?void 0:n.push(i)}else{(t=this.restItemsList)===null||t===void 0?void 0:t.push(i)}}))}componentWillLoad(){this.onItemsChange()}emit(i){if(!i)this.selectionChanged.emit({});const l=this.items.find((l=>l.classUri===i));if(l)this.selectionChanged.emit({value:l})}render(){var i,l,s,o,e,d,u,h,a;return n(t,null,n("ion-list",null,n("ion-radio-group",{onIonChange:i=>this.emit(i.detail.value),value:(l=(i=this.initValue)===null||i===void 0?void 0:i.classUri)!==null&&l!==void 0?l:null},n("ion-item-divider",null,n("ion-label",null,"Class Filter")),n("ion-item",null,n("ion-note",null,"All classes (",(o=(s=this.items)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0,")"),n("ion-radio",{slot:"end",value:null})),(e=this.preferredItemsList)===null||e===void 0?void 0:e.map((i=>n("ion-item",null,n("ion-label",null,i.classLabel),n("ion-note",{slot:"end"},i.instanceCount),n("ion-radio",{slot:"end",value:i.classUri})))))),n("ion-button",{fill:"clear",onClick:()=>this.showAll=!this.showAll},this.showAll?"Show less":"Show all classes"),this.showAll&&n("ion-list",null,n("ion-radio-group",{onIonChange:i=>this.emit(i.detail.value),value:(u=(d=this.initValue)===null||d===void 0?void 0:d.classUri)!==null&&u!==void 0?u:null},(h=this.restItemsList)===null||h===void 0?void 0:h.map(((i,l)=>n("ion-item",{class:!this.showAll&&l>=this.maxLength?"hide":""},n("ion-label",null,i.classLabel),n("ion-note",{slot:"end"},i.instanceCount),n("ion-radio",{slot:"end",value:i.classUri})))),!((a=this.restItemsList)===null||a===void 0?void 0:a.length)&&!this.loading&&n("ion-item",null,n("ion-label",null,"No class found")),this.loading&&["","","","",""].map((i=>n("ion-item",null,n("ion-label",null,n("ion-skeleton-text",{animated:true}))))))))}static get watchers(){return{items:["onItemsChange"]}}};e.style=o;const d=":host{display:block}";const u=class{constructor(n){i(this,n);this.selectionChanged=l(this,"selectionChanged",7);this.items=undefined;this.initValue=undefined}emit(i){if(!i)this.selectionChanged.emit({});const l=this.items.find((l=>l.classUri===i));if(l)this.selectionChanged.emit({value:l})}render(){var i,l,s,o,e;return n(t,null,n("ion-list",null,n("ion-item",null,n("ion-note",null,"Class Filter:"),n("ion-select",{placeholder:"Select class",onIonChange:i=>this.emit(i.detail.value),value:(l=(i=this.initValue)===null||i===void 0?void 0:i.classUri)!==null&&l!==void 0?l:null,ref:i=>i.interfaceOptions={header:"Class Filter"}},n("ion-select-option",{value:null},n("ion-label",{slot:"start"},"All classes (",(o=(s=this.items)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0,")")),(e=this.items)===null||e===void 0?void 0:e.map((i=>n("ion-select-option",{value:i.classUri},n("ion-label",{slot:"start"},i.classLabel)," ")))))))}};u.style=d;const h=":host{display:block}";const a=class{constructor(l){i(this,l);this.items=undefined;this.loading=undefined;this.defaultPageSize=5;this.uriRegex=undefined;this.uriReplace=undefined}render(){var i;const l=[];for(let i=0;i<this.defaultPageSize;i++){l.push("")}return n(t,null,n("ion-list",{lines:"full"},(i=this.items)===null||i===void 0?void 0:i.map((i=>n("ion-item",{href:s(i.entityUri,this.uriRegex,this.uriReplace),target:"_blank",rel:"noreferrer"},n("ion-label",null,n("h2",null,i.entityLabel),n("p",null,i.classLabel))))),this.loading&&l.map((i=>n("ion-item",null,n("ion-label",null,n("h2",null,n("ion-skeleton-text",{animated:true,style:{width:"80%"}})),n("p",null,n("ion-skeleton-text",{animated:true,style:{width:"80%"}}))))))))}};a.style=h;export{e as geov_class_radio_group,u as geov_class_select_popup,a as geov_entity_list};
//# sourceMappingURL=p-8645b9d6.entry.js.map